# Dashboard Configuration for Percentage-Based Vertical Blinds
# Copy this into your dashboard YAML

# IMPORTANT: First program your motor's My position to the closed position (1%)
# This ensures perfect accuracy when closing the blinds

# First, create the input_number helper:
# Go to Settings → Devices & Services → Helpers → Create Helper → Number
# Name: Dining Blinds Position
# Min: 1
# Max: 100
# Step: 1
# Initial: 100

# Then create the helper script in scripts.yaml:
script:
  move_vertical_blinds:
    alias: Move Vertical Blinds
    fields:
      blind_id:
        description: The blind identifier (e.g., dining, lounge)
      position:
        description: Target position percentage (1-100)
    sequence:
      - event: vertical_blinds_move
        event_data:
          blind_id: "{{ blind_id }}"
          position: "{{ position }}"

# Dashboard card configuration:
type: vertical-stack
cards:
  - type: markdown
    content: "## Dining Blinds"
  
  # Current position display
  - type: entities
    entities:
      - entity: input_number.dining_blinds_position
        name: Current Position
  
  # Main control buttons
  - type: horizontal-stack
    cards:
      - type: button
        name: Open
        icon: mdi:blinds-open
        tap_action:
          action: call-service
          service: script.move_vertical_blinds
          data:
            blind_id: dining
            position: 100
      
      - type: button
        name: 70%
        icon: mdi:blinds
        tap_action:
          action: call-service
          service: script.move_vertical_blinds
          data:
            blind_id: dining
            position: 70
      
      - type: button
        name: 50%
        icon: mdi:blinds
        tap_action:
          action: call-service
          service: script.move_vertical_blinds
          data:
            blind_id: dining
            position: 50
  
  - type: horizontal-stack
    cards:
      - type: button
        name: 30%
        icon: mdi:blinds
        tap_action:
          action: call-service
          service: script.move_vertical_blinds
          data:
            blind_id: dining
            position: 30
      
      - type: button
        name: Closed
        icon: mdi:blinds-closed
        tap_action:
          action: call-service
          service: script.move_vertical_blinds
          data:
            blind_id: dining
            position: 1
        entity_picture: null
        show_icon: true
      
      # Empty space for alignment
      - type: button
        name: " "
        tap_action:
          action: none
        show_icon: false

# Note: Positions 1-10% all go to the My preset for perfect accuracy
# Other positions use timed movements